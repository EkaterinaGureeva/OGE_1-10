<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<meta name="theme-color" content="#2b7bd8"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="default"/>
<meta name="format-detection" content="telephone=no"/>
<title>Тренажёр ОГЭ — задание 6</title>
<style>
:root{
  --bg:#f3f8ff;
  --card:#ffffff;
  --ink:#0b2b4a;
  --muted:#476b8a;
  --accent:#2b7bd8;
  --accent2:#1e5fb0;
  --good:#1f9d55;
  --bad:#d94a3a;
  --shadow:0 14px 40px rgba(11,43,74,.10);
  --shadow2:0 8px 22px rgba(11,43,74,.12);
  --radius:18px;
  --radius2:22px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--ink);
  background: radial-gradient(1200px 800px at 20% 0%, #e7f1ff 0%, transparent 55%),
              radial-gradient(1200px 800px at 90% 10%, #eaf6ff 0%, transparent 55%),
              var(--bg);
}
header{
  position:sticky; top:0; z-index:5;
  background: rgba(243,248,255,.82);
  backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(43,123,216,.12);
}
.topbar{
  max-width:1240px; margin:0 auto; padding:14px 16px;
  display:flex; gap:12px; align-items:center; justify-content:space-between;
}
.brand{display:flex; gap:12px; align-items:center;}
.logo{
  width:44px; height:44px; border-radius:14px;
  background: linear-gradient(135deg, #d9ecff, #ffffff);
  border:1px solid rgba(43,123,216,.18);
  box-shadow: 0 10px 20px rgba(43,123,216,.12);
  display:grid; place-items:center;
}
.logo svg{opacity:.9}
.brand h1{margin:0; font-size:18px; line-height:1.1; letter-spacing:.2px}
.brand .sub{margin:2px 0 0; font-size:12px; color:var(--muted)}
.actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.pill{
  padding:8px 12px; border-radius:999px;
  border:1px solid rgba(43,123,216,.18);
  background: rgba(255,255,255,.7);
  box-shadow: 0 8px 18px rgba(11,43,74,.06);
  font-size:12px; color:var(--muted);
}
.btn{
  appearance:none; border:none; cursor:pointer;
  padding:10px 14px; border-radius:14px;
  background: linear-gradient(180deg, #ffffff, #f3f8ff);
  border:1px solid rgba(43,123,216,.18);
  box-shadow: var(--shadow2);
  color:var(--ink); font-weight:600;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.btn:hover{transform: translateY(-1px)}
.btn:active{transform: translateY(0px); box-shadow: 0 6px 14px rgba(11,43,74,.10)}
.btn.primary{
  background: linear-gradient(180deg, #3a8cff, #2b7bd8);
  border:1px solid rgba(25,90,170,.25);
  color:#fff;
}
.btn.danger{
  background: linear-gradient(180deg, #ffb3a9, #ff7d6d);
  border:1px solid rgba(217,74,58,.35);
  color:#3a0f0b;
}
.btn.ghost{background: rgba(255,255,255,.65)}
main{max-width:1240px; margin:0 auto; padding:
  calc(18px + env(safe-area-inset-top))
  calc(16px + env(safe-area-inset-right))
  calc(24px + env(safe-area-inset-bottom))
  calc(16px + env(safe-area-inset-left));}
.grid{display:grid; grid-template-columns: 1.65fr .95fr; gap:16px}
@media (max-width: 1020px){ .grid{grid-template-columns:1fr} header{position:static} }
.card{
  background: var(--card);
  border:1px solid rgba(43,123,216,.14);
  border-radius: var(--radius2);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.card .hd{
  padding:14px 16px;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  border-bottom:1px solid rgba(43,123,216,.10);
  background: linear-gradient(180deg, rgba(233,245,255,.75), rgba(255,255,255,.75));
}
.card .hd h2{margin:0; font-size:22px; letter-spacing:.2px}
.card .bd{padding:16px}
.kicker{font-size:12px; color:var(--muted)}
.taskWrap{display:flex; flex-direction:column; gap:12px}
.block{
  border:1px solid rgba(43,123,216,.14);
  border-radius: 16px;
  padding:12px 12px;
  background: linear-gradient(180deg, #ffffff, #f8fbff);
}
.statement{
  font-size:16px; line-height:1.45;
  white-space:pre-wrap;
}
.code{
  font-family:var(--mono);
  font-size:13px; line-height:1.35;
  background:#0b2b4a;
  color:#e9f3ff;
  border-radius:14px;
  padding:12px;
  overflow:auto;
  box-shadow: 0 10px 24px rgba(11,43,74,.18);
  white-space:pre;
}
.hr{height:1px; background: rgba(43,123,216,.12); margin:6px 0}
.tableTools{display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap}
.zoomCtl{display:flex; gap:8px; align-items:center}
.range{display:flex; gap:8px; align-items:center}
input[type="range"]{width:160px}
.tableBox{
  width:100%;
  border:1px solid rgba(43,123,216,.18);
  border-radius:16px;
  background: #ffffff;
  overflow:hidden;
}
.tableBox .inner{
  width:100%;
  height:220px;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:10px;
}
.gridTable{
  border-collapse:separate;
  border-spacing:0;
  width: 560px;
  max-width:100%;
  table-layout:fixed;
  transform-origin:center center;
}
.gridTable td{
  border:1px solid rgba(43,123,216,.18);
  padding:14px 8px;
  text-align:center;
  font-weight:800;
  color:#123a61;
  background: linear-gradient(180deg, #ffffff, #f4f9ff);
}
.gridTable td:first-child{border-left:none}
.gridTable tr:first-child td{border-top:none}
.gridTable td:last-child{border-right:none}
.gridTable tr:last-child td{border-bottom:none}
.answerRow{display:flex; gap:10px; align-items:stretch; flex-wrap:wrap}
.input{
  flex:1 1 320px;
  border-radius:16px;
  border:2px solid rgba(43,123,216,.22);
  padding:14px 14px;
  font-size:18px;
  outline:none;
  background:#ffffff;
  box-shadow: 0 10px 18px rgba(11,43,74,.06);
}
.input:focus{border-color: rgba(43,123,216,.55); box-shadow: 0 14px 26px rgba(43,123,216,.16)}
.result{
  margin-top:4px;
  font-weight:900;
  font-size:14px;
}
.navRow{display:flex; gap:10px; flex-wrap:wrap}
.right .bd{display:flex; flex-direction:column; gap:12px}
.statGrid{display:grid; grid-template-columns: repeat(4, 1fr); gap:10px}
@media (max-width: 520px){ .statGrid{grid-template-columns: repeat(2, 1fr)} }
.stat{
  border-radius:16px;
  border:1px solid rgba(43,123,216,.14);
  background: linear-gradient(180deg, #ffffff, #f6fbff);
  padding:10px 10px;
  text-align:center;
}
.stat .n{font-weight:900; font-size:18px}
.stat .t{font-size:12px; color:var(--muted)}
.notice{
  border-radius:16px;
  border:1px dashed rgba(43,123,216,.26);
  padding:12px;
  background: rgba(255,255,255,.7);
  color: var(--muted);
  line-height:1.35;
  white-space:pre-wrap;
}
.toast{
  position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
  background:#0b2b4a; color:#fff;
  padding:10px 12px; border-radius:14px;
  box-shadow: 0 18px 42px rgba(11,43,74,.28);
  display:none; z-index:50;
}
.modalOverlay{
  position:fixed; inset:0;
  background: rgba(11,43,74,.48);
  display:flex; align-items:center; justify-content:center;
  padding:16px;
  z-index:100;
}
.modal{
  width:min(920px, 96vw);
  background:#fff;
  border-radius:24px;
  border:1px solid rgba(43,123,216,.18);
  box-shadow: 0 24px 70px rgba(11,43,74,.30);
  overflow:hidden;
}
.modal .mhd{
  padding:16px 18px;
  background: linear-gradient(180deg, rgba(233,245,255,.9), rgba(255,255,255,.9));
  border-bottom:1px solid rgba(43,123,216,.12);
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.modal .mhd h3{margin:0; font-size:20px}
.modal .mbd{padding:18px; color:var(--muted); font-size:15px; line-height:1.5}
.modal .mft{padding:16px 18px; display:flex; justify-content:flex-end; gap:10px; border-top:1px solid rgba(43,123,216,.10)}
.drawerOverlay{position:fixed; inset:0; background: rgba(11,43,74,.35); display:none; z-index:120}
.drawer{
  position:fixed; right:0; top:0; height:100%; width:min(520px, 92vw);
  background:#fff; border-left:1px solid rgba(43,123,216,.18);
  box-shadow: -20px 0 60px rgba(11,43,74,.22);
  transform: translateX(105%);
  transition: transform .18s ease;
  z-index:130;
  display:flex; flex-direction:column;
}
.drawer.open{transform: translateX(0)}
.drawer .dhd{padding:14px 16px; border-bottom:1px solid rgba(43,123,216,.12); background: linear-gradient(180deg, rgba(233,245,255,.9), rgba(255,255,255,.9)); display:flex; align-items:center; justify-content:space-between}
.drawer .dhd h3{margin:0; font-size:18px}
.drawer .dbd{padding:14px 16px; overflow:auto; display:flex; flex-direction:column; gap:12px}
.field{display:flex; flex-direction:column; gap:6px}
.field label{font-size:12px; color:var(--muted)}
.field input{padding:10px 12px; border-radius:14px; border:1px solid rgba(43,123,216,.22); font-size:14px}
.row{display:flex; gap:10px; flex-wrap:wrap}
.small{font-size:12px; color:var(--muted)}
.answerList{display:flex; flex-direction:column; gap:10px}
.answerItem{border:1px solid rgba(43,123,216,.14); border-radius:16px; padding:10px; background:linear-gradient(180deg,#fff,#f7fbff)}
.answerItem .top{display:flex; align-items:center; justify-content:space-between; gap:10px}
.answerItem .top b{font-size:13px}
.answerItem input{width:140px}

/* --- Student-only build: hide teacher mode --- */
#btnTeacher, #drawerOverlay, #drawer { display: none !important; }

</style>
</head>
<body>
<header>
  <div class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
          <path d="M12 2l9 5v10l-9 5-9-5V7l9-5Z" stroke="#2b7bd8" stroke-width="1.6"/>
          <path d="M7 9h10M7 12h10M7 15h7" stroke="#0b2b4a" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
      </div>
      <div>
        <h1>Тренажёр ОГЭ (информатика), задание 6 — «Программа с условным оператором»</h1>
        <div class="sub">30 заданий • автопроверка • увеличение таблицы</div>
      </div>
    </div>
    <div class="actions">
      <span class="pill" id="pillTask">Задание: 1 / 30</span>
      <button class="btn ghost" id="btnFullscreen">Полный экран</button>
      <button class="btn ghost" id="btnTeacher">Учитель</button>
    </div>
  </div>
</header>

<main>
  <div class="grid">
    <section class="card left">
      <div class="hd">
        <h2 id="taskTitle">Задание 1</h2>
        <span class="pill">автопроверка</span>
      </div>
      <div class="bd">
        <div class="taskWrap">
          <div class="block">
            <div class="statement" id="taskStatement"></div>
            <div class="hr"></div>
            <div class="kicker" style="margin-bottom:6px;">Данные запусков</div>
            <div class="tableTools">
              <div class="zoomCtl">
                <button class="btn" id="zoomOut" title="Уменьшить">−</button>
                <button class="btn" id="zoomIn" title="Увеличить">+</button>
                <span class="pill" id="zoomLabel">100%</span>
              </div>
              <div class="range">
                <span class="kicker">Масштаб</span>
                <input type="range" min="80" max="180" value="100" id="zoomRange"/>
              </div>
            </div>
            <div class="tableBox" style="margin-top:10px;">
              <div class="inner">
                <table class="gridTable" id="pairsTable" aria-label="Таблица значений"><tbody></tbody></table>
              </div>
            </div>
            <div class="hr"></div>
            <div class="kicker" style="margin-bottom:6px;">Фрагмент программы (Python)</div>
            <pre class="code" id="taskCode"></pre>
            <div class="hr"></div>
            <div class="statement" id="taskQuestion" style="font-weight:900;"></div>
          </div>

          <div class="answerRow">
            <input class="input" id="answerInput" placeholder="Введите ответ…" inputmode="numeric" autocomplete="off"/>
            <button class="btn primary" id="btnCheck">Проверить</button>
          </div>

          <div class="result" id="result"></div>

          <div class="navRow">
            <button class="btn" id="btnHint">Подсказка</button>
            <button class="btn" id="btnPrev">← Назад</button>
            <button class="btn" id="btnNext">Дальше →</button>
            <button class="btn danger" id="btnReset">Сброс</button>
          </div>

          <div class="notice" id="hintBox" style="display:none;"></div>
        </div>
      </div>
    </section>

    <aside class="card right">
      <div class="hd">
        <h2>Прогресс</h2>
        <span class="pill" id="progressPct">0%</span>
      </div>
      <div class="bd">
        <div class="statGrid">
          <div class="stat"><div class="n" id="stSolved">0</div><div class="t">Решено</div></div>
          <div class="stat"><div class="n" id="stCorrect">0</div><div class="t">Верно</div></div>
          <div class="stat"><div class="n" id="stWrong">0</div><div class="t">Ошибок</div></div>
          <div class="stat"><div class="n" id="stHints">0</div><div class="t">Подсказок</div></div>
        </div>
        <div class="notice">Совет: вводите только число. Пробелы и лишние символы не учитываются.</div>
        <button class="btn" id="btnHistory">История попыток</button>
        <div class="notice" id="historyBox" style="display:none;"></div>
      </div>
    </aside>
  </div>
</main>

<div class="toast" id="toast"></div>

<div class="modalOverlay" id="welcome">
  <div class="modal" role="dialog" aria-modal="true" aria-label="Инструкция">
    <div class="mhd">
      <h3>Интерактивный тренажёр • Задание 6</h3>
      <span class="pill">30 заданий</span>
    </div>
    <div class="mbd">
      Здесь нужно определить, какой результат выдаст программа при разных входных данных. В каждом задании показаны 9 запусков с парами значений, а также фрагмент программы. Введите ответ числом и нажмите «Проверить». Масштаб таблицы можно увеличить для работы на интерактивной доске.
    </div>
    <div class="mft">
      <button class="btn primary" id="btnStart">Начать</button>
    </div>
  </div>
</div>

<div class="drawerOverlay" id="drawerOverlay"></div>
<div class="drawer" id="drawer">
  <div class="dhd">
    <h3>Режим учителя</h3>
    <button class="btn" id="btnCloseDrawer">Закрыть</button>
  </div>
  <div class="dbd">
    <div class="field" id="pinGate">
      <label>Введите PIN-код</label>
      <div class="row">
        <input id="pinInput" type="password" placeholder="PIN" autocomplete="off"/>
        <button class="btn primary" id="btnPinEnter">Войти</button>
      </div>
      <div class="small">PIN по умолчанию: 1234</div>
    </div>

    <div id="teacherPanel" style="display:none;">
      <div class="block">
        <div style="font-weight:900; margin-bottom:6px;">Доступ</div>
        <div class="row">
          <div class="field" style="flex:1 1 200px;">
            <label>Новый PIN</label>
            <input id="newPin" type="password" placeholder="Введите новый PIN"/>
          </div>
          <div class="field" style="flex:1 1 200px;">
            <label>Повторите PIN</label>
            <input id="newPin2" type="password" placeholder="Повторите новый PIN"/>
          </div>
        </div>
        <div class="row">
          <button class="btn primary" id="btnChangePin">Сохранить PIN</button>
          <button class="btn" id="btnLogout">Выйти</button>
        </div>
        <div class="small">PIN хранится только в браузере на этом устройстве.</div>
      </div>

      <div class="block">
        <div style="font-weight:900; margin-bottom:6px;">Ответы (можно редактировать)</div>
        <div class="answerList" id="answerList"></div>
        <div class="row">
          <button class="btn primary" id="btnSaveAnswers">Сохранить ответы</button>
          <button class="btn" id="btnResetAnswers">Вернуть исходные</button>
        </div>
        <div class="small">Изменения применяются сразу к автопроверке.</div>
      </div>
    </div>
  </div>
</div>

<script>
const TASKS = [{"id": 1, "statement": "1.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(1, 2); (11, 2); (1, 12); (11, 12); (-11, -12); (-11, 12); (-12, 11); (10, 10); (10, 5).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(1, 2)", "(11, 2)", "(1, 12)", "(11, 12)", "(-11, -12)", "(-11, 12)", "(-12, 11)", "(10, 10)", "(10, 5)"], "py": "s = int(input())\nt = int(input())\nif s > 10 or t > 10:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 10 or t > 10", "answer": "5"}, {"id": 2, "statement": "2.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(9, 9); (9, 10); (8, 5); (11, 6); (-11, 10); (-5, 9); (-10, 10); (4, 5); (8, 6).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(9, 9)", "(9, 10)", "(8, 5)", "(11, 6)", "(-11, 10)", "(-5, 9)", "(-10, 10)", "(4, 5)", "(8, 6)"], "py": "s = int(input())\nt = int(input())\nif s < 9 or t < 9:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s < 9 or t < 9", "answer": "7"}, {"id": 3, "statement": "3.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(6, 8); (3, 5); (-7, 2); (7, 7); (9, 8); (-1, 3); (-4, 5); (6, 9); (2, -1).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(6, 8)", "(3, 5)", "(-7, 2)", "(7, 7)", "(9, 8)", "(-1, 3)", "(-4, 5)", "(6, 9)", "(2, -1)"], "py": "s = int(input())\nt = int(input())\nif s > 5 and t > 5:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 5 and t > 5", "answer": "4"}, {"id": 4, "statement": "4.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(10, 10); (10, 6); (-4, 8); (2, 9); (12, 7); (-11, 4); (-8, 13); (10, 9); (11, 11).\nСколько было запусков, при которых программа напечатала «NO»?", "question": "Сколько было запусков, при которых программа напечатала «NO»?", "pairs": ["(10, 10)", "(10, 6)", "(-4, 8)", "(2, 9)", "(12, 7)", "(-11, 4)", "(-8, 13)", "(10, 9)", "(11, 11)"], "py": "s = int(input())\nt = int(input())\nif s > 10 and t > 10:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 10 and t > 10", "answer": "8"}, {"id": 5, "statement": "5.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(7, 3); (2, 7); (6, 10); (5, 3); (5, 4); (-11, 4); (-8, 9); (7, 3); (9, 1).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(7, 3)", "(2, 7)", "(6, 10)", "(5, 3)", "(5, 4)", "(-11, 4)", "(-8, 9)", "(7, 3)", "(9, 1)"], "py": "s = int(input())\nt = int(input())\nif s > 6 and t < 7:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 6 and t < 7", "answer": "3"}, {"id": 6, "statement": "6.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(-1, 6); (2, 8); (0, 3); (9, -9); (4, 4); (2, 7); (8, -2); (7, 7); (4, 1).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(-1, 6)", "(2, 8)", "(0, 3)", "(9, -9)", "(4, 4)", "(2, 7)", "(8, -2)", "(7, 7)", "(4, 1)"], "py": "s = int(input())\nt = int(input())\nif s > 3 or t < 7:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 3 or t < 7", "answer": "7"}, {"id": 7, "statement": "7.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(9, 5); (11, 2); (4, 5); (7, -2); (4, 4); (7, 7); (1, -1); (3, 9); (2, 2).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(9, 5)", "(11, 2)", "(4, 5)", "(7, -2)", "(4, 4)", "(7, 7)", "(1, -1)", "(3, 9)", "(2, 2)"], "py": "s = int(input())\nt = int(input())\nif s < 7 or t > 5:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s < 7 or t > 5", "answer": "6"}, {"id": 8, "statement": "8.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло выведено 9 запусков программы, при которых в качестве значений переменных вводились следующие пары чисел (s, t):\n(3, 5); (4, 3); (4, -5); (0, 7); (0, -2); (-2, 1); (-2, 5); (-2, -4); (1, 2).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(3, 5)", "(4, 3)", "(4, -5)", "(0, 7)", "(0, -2)", "(-2, 1)", "(-2, 5)", "(-2, -4)", "(1, 2)"], "py": "s = int(input())\nt = int(input())\nif s < 1 and t < 2:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s < 1 and t < 2", "answer": "3"}, {"id": 9, "statement": "9.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(1, 2); (11, 2); (1, 12); (11, 12); (-11, -12); (-11, 12); (-12, 11); (10, 10); (10, 5).\nУкажите количество целых значений параметра A, при которых для указанных входных данных программа\nнапечатает «NO» три раза.", "question": "Укажите количество целых значений параметра A, при которых для указанных входных данных программа напечатает «NO» три раза.", "pairs": ["(1, 2)", "(11, 2)", "(1, 12)", "(11, 12)", "(-11, -12)", "(-11, 12)", "(-12, 11)", "(10, 10)", "(10, 5)"], "py": "s = int(input())\nt = int(input())\nA = int(input())\nif (s > 10) or (t > A):\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "(s > 10) or (t > A)", "answer": "5"}, {"id": 10, "statement": "10.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(13, 2); (11, 12); (-12, 12); (2, -2); (-10, -10); (6, -5); (2, 8); (9, 10); (1, 13).\nУкажите наименьшее целое значение параметра A, при котором для указанных входных данных программа\nнапечатает «NO» восемь раз.", "question": "Укажите наименьшее целое значение параметра A, при котором для указанных входных данных программа напечатает «NO» восемь раз.", "pairs": ["(13, 2)", "(11, 12)", "(-12, 12)", "(2, -2)", "(-10, -10)", "(6, -5)", "(2, 8)", "(9, 10)", "(1, 13)"], "py": "s = int(input())\nt = int(input())\nA = int(input())\nif (s > A) or (t > 12):\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "(s > A) or (t > 12)", "answer": "13"}, {"id": 11, "statement": "11.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и k вводились\nследующие пары чисел:\n(1, 1); (10, 7); (6, -12); (6, 6); (5, 2); (-10, -8); (-10, 11); (3, 1); (12, 8).\nСколько было запусков, при которых программа напечатала «ДА»?", "question": "Сколько было запусков, при которых программа напечатала «ДА»?", "pairs": ["(1, 1)", "(10, 7)", "(6, -12)", "(6, 6)", "(5, 2)", "(-10, -8)", "(-10, 11)", "(3, 1)", "(12, 8)"], "py": "s = int(input())\nk = int(input())\nif s < 7 and k < 7:\n   print(\"ДА\")\nelse:\n   print(\"НЕТ\")", "cond": "s < 7 and k < 7", "answer": "6"}, {"id": 12, "statement": "12.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и k вводились\nследующие пары чисел:\n(1, 1); (8, 4); (14, 10); (20, 1); (7, 3); (10, 5); (10, 2); (4, 1); (1, 0).\nСколько было запусков, при которых программа напечатала «ДА»?", "question": "Сколько было запусков, при которых программа напечатала «ДА»?", "pairs": ["(1, 1)", "(8, 4)", "(14, 10)", "(20, 1)", "(7, 3)", "(10, 5)", "(10, 2)", "(4, 1)", "(1, 0)"], "py": "s = int(input())\nk = int(input())\nif  s // 2 == k:\n   print(\"ДА\")\nelse:\n   print(\"НЕТ\")", "cond": "s // 2 == k", "answer": "4"}, {"id": 13, "statement": "13.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и k вводились\nследующие пары чисел:\n(2, 2); (5, 9); (7, -12); (5, 5); (2, 12); (—10, —13); (—11, 11); (1, 4); (2, 6).\nСколько было запусков, при которых программа напечатала «ДА»?", "question": "Сколько было запусков, при которых программа напечатала «ДА»?", "pairs": ["(2, 2)", "(5, 9)", "(7, -12)", "(5, 5)", "(2, 12)", "(1, 4)", "(2, 6)"], "py": "s = int(input())\nk = int(input())\nif  s < 5 or k < 5:\n   print(\"ДА\")\nelse:\n   print(\"НЕТ\")", "cond": "s < 5 or k < 5", "answer": "7"}, {"id": 14, "statement": "14.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и k вводились\nследующие пары чисел:\n(2, 2); (5, 9); (7, -12); (5, 5); (2, 12); (—10, —13); (—11, 11); (1, 4); (2, 6).\nСколько было запусков, при которых программа напечатала «ДА»?", "question": "Сколько было запусков, при которых программа напечатала «ДА»?", "pairs": ["(2, 2)", "(5, 9)", "(7, -12)", "(5, 5)", "(2, 12)", "(1, 4)", "(2, 6)"], "py": "s = int(input())\nk = int(input())\nif  s > 5 or k > 5:\n   print(\"ДА\")\nelse:\n   print(\"НЕТ\")", "cond": "s > 5 or k > 5", "answer": "5"}, {"id": 15, "statement": "15.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и k вводились\nследующие пары чисел:\n(1, 2); (8, 4); (6, -12); (-5, -5); (3, 11); (—10, 12); (—10, -2); (4, 1); (2, 5).\nСколько было запусков, при которых программа напечатала «ДА»?", "question": "Сколько было запусков, при которых программа напечатала «ДА»?", "pairs": ["(1, 2)", "(8, 4)", "(6, -12)", "(-5, -5)", "(3, 11)", "(4, 1)", "(2, 5)"], "py": "s = int(input())\nk = int(input())\nif  s >= 2 * k:\n   print(\"ДА\")\nelse:\n   print(\"НЕТ\")", "cond": "s >= 2 * k", "answer": "4"}, {"id": 16, "statement": "16.  Ниже приведена программа, записанная на трех языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(13, 2); (11, 12); (-12, 12); (2, -2); (-10, -10); (6, -5); (2, 8); (9, 10); (1, 13).\nУкажите наименьшее целое значение параметра A, при котором для указанных входных данных программа\nнапечатает «YES» четыре раза.\nАлгоритмический язык\nPython\nПаскаль\nалг\nнач\nцел s, t, A\nввод s\nввод t\nввод A\nесли s > A или t > 12\n   то вывод \"YES\"\n   иначе вывод \"NO\"\nвсе\nкон\ns = int(input())\nt = int(input())\nA = int(input())\nif (s>A) or t > 12:\n    print(\"YES\")\nelse:\n    print(\"NO\")\nvar A, s, t: integer;\nbegin\n   readln(s);\n   readln(t);\n   readln(A);\n   if (s > A) or (t > 12)\n       then writeln('YES')\n       else writeln('NO')\nend.\n15.02.2026, 09:05\ninf-oge.sdamgia.ru/test?theme=25&print=true&svg=0&key=true\nhttps://inf-oge.sdamgia.ru/test?theme=25&print=true&svg=0&key=true\n16/23", "question": "Укажите наименьшее целое значение параметра A, при котором для указанных входных данных программа напечатает «YES» четыре раза.", "pairs": ["(13, 2)", "(11, 12)", "(-12, 12)", "(2, -2)", "(-10, -10)", "(6, -5)", "(2, 8)", "(9, 10)", "(1, 13)"], "py": "s = int(input())\nt = int(input())\nA = int(input())\nif (s>A) or t > 12:\n    print(\"YES\")\nelse:\n    print(\"NO\")", "cond": "(s>A) or t > 12", "answer": "6"}, {"id": 17, "statement": "17.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(9, 9); (9, 10); (8, 5); (11, 6); (-11, 10); (-5, 9); (-10, 10); (4, 5); (8, 6).\nСколько было запусков, при которых программа напечатала «NO»?", "question": "Сколько было запусков, при которых программа напечатала «NO»?", "pairs": ["(9, 9)", "(9, 10)", "(8, 5)", "(11, 6)", "(-11, 10)", "(-5, 9)", "(-10, 10)", "(4, 5)", "(8, 6)"], "py": "s = int(input())\nt = int(input())\nif (s < 5) and not  t > 3:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "(s < 5) and not  t > 3", "answer": "9"}, {"id": 18, "statement": "18.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(1, 2); (11, 2); (1, 12); (11, 12); (-11, -12); (-11, 12); (-12, 11); (10, 10); (10, 5).\nУкажите количество целых значений параметра A, при которых для указанных входных данных программа\nнапечатает «YES» семь раз.", "question": "Укажите количество целых значений параметра A, при которых для указанных входных данных программа напечатает «YES» семь раз.", "pairs": ["(1, 2)", "(11, 2)", "(1, 12)", "(11, 12)", "(-11, -12)", "(-11, 12)", "(-12, 11)", "(10, 10)", "(10, 5)"], "py": "s = int(input())\nt = int(input())\nA = int(input())\nif (s > 10) or (t > A):\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "(s > 10) or (t > A)", "answer": "3"}, {"id": 19, "statement": "19.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(2, -2); (5, 3); (14, 1); (-12, 5); (5, 7); (10, 3); (8, 2); (3, 0); (-4, 9).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(2, -2)", "(5, 3)", "(14, 1)", "(-12, 5)", "(5, 7)", "(10, 3)", "(8, 2)", "(3, 0)", "(-4, 9)"], "py": "s = int(input())\nt = int(input())\nif not (s > -4) or (t < 3):\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "not (s > -4) or (t < 3)", "answer": "6"}, {"id": 20, "statement": "20.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(-5, -2); (5, 3); (-14, 3); (-12, 5); (5, -7); (10, 3); (-4, 3); (3, 0); (-4, 9).\nСколько было запусков, при которых программа напечатала «NO»?", "question": "Сколько было запусков, при которых программа напечатала «NO»?", "pairs": ["(-5, -2)", "(5, 3)", "(-14, 3)", "(-12, 5)", "(5, -7)", "(10, 3)", "(-4, 3)", "(3, 0)", "(-4, 9)"], "py": "s = int(input())\nt = int(input())\nif not ((s < -4) and (t >= 3)):\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "not ((s < -4) and (t >= 3))", "answer": "2"}, {"id": 21, "statement": "21.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(-9, 11); (2, 7); (5, 12); (2; -2); (7, -9); (12, 6); (9; -1); (7, 11); (11, -5).\nУкажите наибольшее целое значение параметра A, при котором для указанных входных данных программа\nнапечатает «YES» четыре раза.", "question": "Укажите наибольшее целое значение параметра A, при котором для указанных входных данных программа напечатает «YES» четыре раза.", "pairs": ["(-9, 11)", "(2, 7)", "(5, 12)", "(7, -9)", "(12, 6)", "(7, 11)", "(11, -5)"], "py": "s = int(input())\nt = int(input())\nA = int(input())\nif (s > A) or (t > 11):\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "(s > A) or (t > 11)", "answer": "8"}, {"id": 22, "statement": "22.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и k вводились\nследующие пары чисел:\n(1, 2); (5, 0); (18, 3); (21; 1); (10, 2); (12, 1); (9; 4); (5, 5); (3, 3).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(1, 2)", "(5, 0)", "(18, 3)", "(10, 2)", "(12, 1)", "(5, 5)", "(3, 3)"], "py": "s = int(input())\nk = int(input())\nif s % 5 == k:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s % 5 == k", "answer": "5"}, {"id": 1, "statement": "1.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(1, 2); (11, 2); (1, 12); (11, 12); (-11, -12); (-11, 12); (-12, 11); (10, 10); (10, 5).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(1, 2)", "(11, 2)", "(1, 12)", "(11, 12)", "(-11, -12)", "(-11, 12)", "(-12, 11)", "(10, 10)", "(10, 5)"], "py": "s = int(input())\nt = int(input())\nif s > 10 or t > 10:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 10 or t > 10", "answer": "5"}, {"id": 2, "statement": "2.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(9, 9); (9, 10); (8, 5); (11, 6); (-11, 10); (-5, 9); (-10, 10); (4, 5); (8, 6).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(9, 9)", "(9, 10)", "(8, 5)", "(11, 6)", "(-11, 10)", "(-5, 9)", "(-10, 10)", "(4, 5)", "(8, 6)"], "py": "s = int(input())\nt = int(input())\nif s < 9 or t < 9:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s < 9 or t < 9", "answer": "7"}, {"id": 3, "statement": "3.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(6, 8); (3, 5); (-7, 2); (7, 7); (9, 8); (-1, 3); (-4, 5); (6, 9); (2, -1).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(6, 8)", "(3, 5)", "(-7, 2)", "(7, 7)", "(9, 8)", "(-1, 3)", "(-4, 5)", "(6, 9)", "(2, -1)"], "py": "s = int(input())\nt = int(input())\nif s > 5 and t > 5:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 5 and t > 5", "answer": "4"}, {"id": 4, "statement": "4.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(10, 10); (10, 6); (-4, 8); (2, 9); (12, 7); (-11, 4); (-8, 13); (10, 9); (11, 11).\nСколько было запусков, при которых программа напечатала «NO»?", "question": "Сколько было запусков, при которых программа напечатала «NO»?", "pairs": ["(10, 10)", "(10, 6)", "(-4, 8)", "(2, 9)", "(12, 7)", "(-11, 4)", "(-8, 13)", "(10, 9)", "(11, 11)"], "py": "s = int(input())\nt = int(input())\nif s > 10 and t > 10:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 10 and t > 10", "answer": "8"}, {"id": 5, "statement": "5.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(7, 3); (2, 7); (6, 10); (5, 3); (5, 4); (-11, 4); (-8, 9); (7, 3); (9, 1).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(7, 3)", "(2, 7)", "(6, 10)", "(5, 3)", "(5, 4)", "(-11, 4)", "(-8, 9)", "(7, 3)", "(9, 1)"], "py": "s = int(input())\nt = int(input())\nif s > 6 and t < 7:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 6 and t < 7", "answer": "3"}, {"id": 6, "statement": "6.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(-1, 6); (2, 8); (0, 3); (9, -9); (4, 4); (2, 7); (8, -2); (7, 7); (4, 1).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(-1, 6)", "(2, 8)", "(0, 3)", "(9, -9)", "(4, 4)", "(2, 7)", "(8, -2)", "(7, 7)", "(4, 1)"], "py": "s = int(input())\nt = int(input())\nif s > 3 or t < 7:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s > 3 or t < 7", "answer": "7"}, {"id": 7, "statement": "7.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло проведено 9 запусков программы, при которых в качестве значений переменных s и t вводились следующие пары чисел:\n(9, 5); (11, 2); (4, 5); (7, -2); (4, 4); (7, 7); (1, -1); (3, 9); (2, 2).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(9, 5)", "(11, 2)", "(4, 5)", "(7, -2)", "(4, 4)", "(7, 7)", "(1, -1)", "(3, 9)", "(2, 2)"], "py": "s = int(input())\nt = int(input())\nif s < 7 or t > 5:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s < 7 or t > 5", "answer": "6"}, {"id": 8, "statement": "8.  Ниже приведена программа, записанная на пяти языках программирования.\nБыло выведено 9 запусков программы, при которых в качестве значений переменных вводились следующие пары чисел (s, t):\n(3, 5); (4, 3); (4, -5); (0, 7); (0, -2); (-2, 1); (-2, 5); (-2, -4); (1, 2).\nСколько было запусков, при которых программа напечатала «YES»?", "question": "Сколько было запусков, при которых программа напечатала «YES»?", "pairs": ["(3, 5)", "(4, 3)", "(4, -5)", "(0, 7)", "(0, -2)", "(-2, 1)", "(-2, 5)", "(-2, -4)", "(1, 2)"], "py": "s = int(input())\nt = int(input())\nif s < 1 and t < 2:\n   print(\"YES\")\nelse:\n   print(\"NO\")", "cond": "s < 1 and t < 2", "answer": "3"}];

const STORAGE_KEY = "oge6_trainer_state_v1";
const PIN_KEY = "oge6_teacher_pin_v1";
const ANSW_OVR_KEY = "oge6_answers_override_v1";

const $ = (id) => document.getElementById(id);

function toast(msg){
  const t = $("toast");
  t.textContent = msg;
  t.style.display = "block";
  clearTimeout(toast._tm);
  toast._tm = setTimeout(()=>t.style.display="none", 1900);
}
function normAnswer(s){
  return (s||"").toString().trim().replace(/\s+/g,'').replace(',', '.');
}
function getPin(){
  return localStorage.getItem(PIN_KEY) || "1234";
}
function setPin(p){
  localStorage.setItem(PIN_KEY, p);
}
function getAnswerOverrides(){
  try { return JSON.parse(localStorage.getItem(ANSW_OVR_KEY) || "{}"); } catch(e){ return {}; }
}
function setAnswerOverrides(obj){
  localStorage.setItem(ANSW_OVR_KEY, JSON.stringify(obj));
}
function getEffectiveAnswer(taskId){
  const o = getAnswerOverrides();
  return (o[taskId] !== undefined && o[taskId] !== null && o[taskId] !== "") ? String(o[taskId]) : String(TASKS[taskId-1].answer);
}

let state = {
  idx: 1,
  solved: {},
  stats: {correct:0, wrong:0, hints:0},
  history: []
};

function saveState(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); }
function loadState(){
  try {
    const raw = localStorage.getItem(STORAGE_KEY);
    if(raw){
      const saved = JSON.parse(raw);
      // Always start from task 1 when opening (do not restore saved idx)
      if(saved && typeof saved === 'object') delete saved.idx;
      state = Object.assign(state, saved || {});
    }
  } catch(e){}
}

function resetState(){
  state = { idx: 1, solved: {}, stats: {correct:0, wrong:0, hints:0}, history: [] };
  saveState();
  render();
  $("historyBox").style.display="none";
  $("hintBox").style.display="none";
  toast("Сброшено");
}

function setZoom(pct){
  pct = Math.max(80, Math.min(180, pct));
  $("zoomRange").value = pct;
  $("zoomLabel").textContent = pct + "%";
  $("pairsTable").style.transform = "scale(" + (pct/100) + ")";
}

function renderTable(pairs){
  const tb = $("pairsTable").querySelector("tbody");
  tb.innerHTML = "";
  const cells = [];
  for(let i=0;i<9;i++) cells.push(pairs && pairs[i] ? pairs[i] : "");
  for(let r=0;r<3;r++){
    const tr=document.createElement("tr");
    for(let c=0;c<3;c++){
      const td=document.createElement("td");
      td.textContent = cells[r*3+c];
      tr.appendChild(td);
    }
    tb.appendChild(tr);
  }
}

function render(){
  const t = TASKS[state.idx-1];
  $("taskTitle").textContent = "Задание " + state.idx;
  $("pillTask").textContent = "Задание: " + state.idx + " / " + TASKS.length;

  $("taskStatement").textContent = (t.statement || "").trim();
  $("taskQuestion").textContent = (t.question || "").trim();
  $("taskCode").textContent = (t.py || "").trim();

  renderTable(t.pairs || []);
  $("answerInput").value = "";
  $("result").textContent = "";
  $("hintBox").style.display="none";

  const solvedCount = Object.keys(state.solved).length;
  $("stSolved").textContent = solvedCount;
  $("stCorrect").textContent = state.stats.correct;
  $("stWrong").textContent = state.stats.wrong;
  $("stHints").textContent = state.stats.hints;

  const pct = Math.round((solvedCount / TASKS.length) * 100);
  $("progressPct").textContent = pct + "%";

  $("btnPrev").disabled = state.idx === 1;
  $("btnNext").disabled = state.idx === TASKS.length;

  if($("historyBox").style.display !== "none"){
    $("historyBox").textContent = state.history.slice(-25).join("\n");
  }
}

function hintText(task){
  if((task.question||"").includes("параметра A")){
    return "Сначала отметьте запуски, где условие выполняется без учёта A. Для остальных подберите A так, чтобы нужное число раз выполнялась часть условия с A.";
  }
  return "Проверьте условие в строке if для каждой пары значений из таблицы. Посчитайте, сколько раз печатается нужное слово.";
}

function check(){
  const user = normAnswer($("answerInput").value);
  const correct = normAnswer(getEffectiveAnswer(state.idx));
  const key = state.idx;
  if(!state.solved[key]) state.solved[key] = {attempts:0, correct:false};
  state.solved[key].attempts += 1;

  const ok = user !== "" && user === correct;
  if(ok){
    $("result").textContent = "Верно ✅";
    $("result").style.color = "var(--good)";
    if(!state.solved[key].correct) state.stats.correct += 1;
    state.solved[key].correct = true;
  } else {
    $("result").textContent = "Неверно ❌";
    $("result").style.color = "var(--bad)";
    state.stats.wrong += 1;
  }
  state.history.push("Задание " + state.idx + ": " + (ok ? "верно" : "ошибка") + " (ввод: " + (user||"—") + ")");
  saveState();
  render();
}

function next(){ if(state.idx < TASKS.length){ state.idx += 1; saveState(); render(); } }
function prev(){ if(state.idx > 1){ state.idx -= 1; saveState(); render(); } }

function toggleFullscreen(){
  if(!document.fullscreenElement){ document.documentElement.requestFullscreen?.(); }
  else { document.exitFullscreen?.(); }
}

function openTeacher(){ /* teacher mode hidden */ }
function closeTeacher(){
  $("drawerOverlay").style.display="none";
  $("drawer").classList.remove("open");
}

function renderTeacherAnswers(){
  const list = $("answerList");
  list.innerHTML = "";
  const overrides = getAnswerOverrides();
  for(let i=1;i<=TASKS.length;i++){
    const item = document.createElement("div");
    item.className = "answerItem";
    const top = document.createElement("div");
    top.className = "top";
    const b = document.createElement("b");
    b.textContent = "Задание " + i;
    const inp = document.createElement("input");
    inp.type = "text";
    inp.value = overrides[i] !== undefined ? String(overrides[i]) : String(TASKS[i-1].answer);
    inp.dataset.taskId = String(i);
    top.appendChild(b);
    top.appendChild(inp);
    item.appendChild(top);
    const sm = document.createElement("div");
    sm.className = "small";
    sm.textContent = "Исходный ответ: " + TASKS[i-1].answer;
    item.appendChild(sm);
    list.appendChild(item);
  }
}

function teacherLogin(){
  const pin = $("pinInput").value.trim();
  if(pin === getPin()){
    $("pinInput").value="";
    $("pinGate").style.display="none";
    $("teacherPanel").style.display="block";
    renderTeacherAnswers();
    toast("Режим учителя открыт");
  } else { toast("Неверный PIN"); }
}
function teacherLogout(){
  $("teacherPanel").style.display="none";
  $("pinGate").style.display="block";
  $("newPin").value="";
  $("newPin2").value="";
  toast("Выход выполнен");
}
function changePin(){
  const a = $("newPin").value.trim();
  const b = $("newPin2").value.trim();
  if(!a || a.length < 4) return toast("PIN должен быть не короче 4 символов");
  if(a !== b) return toast("PIN не совпадает");
  setPin(a);
  $("newPin").value=""; $("newPin2").value="";
  toast("PIN сохранён");
}
function saveAnswers(){
  const inputs = $("answerList").querySelectorAll("input[data-task-id]");
  const obj = {};
  inputs.forEach(inp => { obj[inp.dataset.taskId] = inp.value.trim(); });
  setAnswerOverrides(obj);
  toast("Ответы сохранены");
}
function resetAnswers(){
  localStorage.removeItem(ANSW_OVR_KEY);
  renderTeacherAnswers();
  toast("Возвращены исходные ответы");
}

(function init(){
  loadState();
  if(Object.keys(state.solved).length === 0 && state.idx === 1) $("welcome").style.display="flex";
  else $("welcome").style.display="none";

  $("btnStart").addEventListener("click", ()=>{ $("welcome").style.display="none"; render(); });
  $("btnCheck").addEventListener("click", check);
  $("answerInput").addEventListener("keydown", (e)=>{ if(e.key==="Enter") check(); });
  $("btnNext").addEventListener("click", next);
  $("btnPrev").addEventListener("click", prev);
  $("btnReset").addEventListener("click", resetState);
  $("btnFullscreen").addEventListener("click", toggleFullscreen);

  $("btnHint").addEventListener("click", ()=>{
    const t = TASKS[state.idx-1];
    $("hintBox").textContent = hintText(t);
    $("hintBox").style.display = "block";
    state.stats.hints += 1;
    state.history.push("Задание " + state.idx + ": подсказка");
    saveState();
    render();
  });

  $("btnHistory").addEventListener("click", ()=>{
    const box = $("historyBox");
    const on = box.style.display !== "none";
    box.style.display = on ? "none" : "block";
    box.textContent = state.history.slice(-25).join("\n") || "Пока нет попыток.";
  });

  $("zoomRange").addEventListener("input", (e)=> setZoom(parseInt(e.target.value,10)));
  $("zoomIn").addEventListener("click", ()=> setZoom(parseInt($("zoomRange").value,10)+10));
  $("zoomOut").addEventListener("click", ()=> setZoom(parseInt($("zoomRange").value,10)-10));
  setZoom(parseInt($("zoomRange").value,10));

  $("btnTeacher").addEventListener("click", openTeacher);
  $("drawerOverlay").addEventListener("click", closeTeacher);
  $("btnCloseDrawer").addEventListener("click", closeTeacher);
  $("btnPinEnter").addEventListener("click", teacherLogin);
  $("pinInput").addEventListener("keydown", (e)=>{ if(e.key==="Enter") teacherLogin(); });
  $("btnLogout").addEventListener("click", teacherLogout);
  $("btnChangePin").addEventListener("click", changePin);
  $("btnSaveAnswers").addEventListener("click", saveAnswers);
  $("btnResetAnswers").addEventListener("click", resetAnswers);

  render();
})();
</script>
</body>
</html>
